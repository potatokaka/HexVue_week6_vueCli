(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-039b28d9"],{"00b4":function(e,t,n){"use strict";n("ac1f");var a=n("23e7"),c=n("da84"),r=n("c65b"),o=n("e330"),s=n("1626"),i=n("861d"),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=c.Error,d=o(/./.test);a({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!s(t))return d(this,e);var n=r(t,this,e);if(null!==n&&!i(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"0b42":function(e,t,n){var a=n("da84"),c=n("e8b5"),r=n("68ee"),o=n("861d"),s=n("b622"),i=s("species"),l=a.Array;e.exports=function(e){var t;return c(e)&&(t=e.constructor,r(t)&&(t===l||c(t.prototype))?t=void 0:o(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?l:t}},"107c":function(e,t,n){var a=n("d039"),c=n("da84"),r=c.RegExp;e.exports=a((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"1dde":function(e,t,n){var a=n("d039"),c=n("b622"),r=n("2d00"),o=c("species");e.exports=function(e){return r>=51||!a((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,n){var a=n("0b42");e.exports=function(e,t){return new(a(e))(0===t?0:t)}},"6be2":function(e,t,n){"use strict";var a=function(e){return{all:e=e||new Map,on:function(t,n){var a=e.get(t);a?a.push(n):e.set(t,[n])},off:function(t,n){var a=e.get(t);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var a=e.get(t);a&&a.slice().map((function(e){e(n)})),(a=e.get("*"))&&a.slice().map((function(e){e(t,n)}))}}},c=a();t["a"]=c},8418:function(e,t,n){"use strict";var a=n("a04b"),c=n("9bf2"),r=n("5c6c");e.exports=function(e,t,n){var o=a(t);o in e?c.f(e,o,r(0,n)):e[o]=n}},9263:function(e,t,n){"use strict";var a=n("c65b"),c=n("e330"),r=n("577e"),o=n("ad6d"),s=n("9f7f"),i=n("5692"),l=n("7c73"),u=n("69f3").get,d=n("fce3"),b=n("107c"),f=i("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,p=g,m=c("".charAt),j=c("".indexOf),O=c("".replace),h=c("".slice),v=function(){var e=/a/,t=/b*/g;return a(g,e,"a"),a(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),x=s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],I=v||y||x||d||b;I&&(p=function(e){var t,n,c,s,i,d,b,I=this,C=u(I),E=r(e),k=C.raw;if(k)return k.lastIndex=I.lastIndex,t=a(p,k,E),I.lastIndex=k.lastIndex,t;var w=C.groups,R=x&&I.sticky,V=a(o,I),S=I.source,L=0,A=E;if(R&&(V=O(V,"y",""),-1===j(V,"g")&&(V+="g"),A=h(E,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==m(E,I.lastIndex-1))&&(S="(?: "+S+")",A=" "+A,L++),n=new RegExp("^(?:"+S+")",V)),y&&(n=new RegExp("^"+S+"$(?!\\s)",V)),v&&(c=I.lastIndex),s=a(g,R?n:I,A),R?s?(s.input=h(s.input,L),s[0]=h(s[0],L),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:v&&s&&(I.lastIndex=I.global?s.index+s[0].length:c),y&&s&&s.length>1&&a(f,s[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(s[i]=void 0)})),s&&w)for(s.groups=d=l(null),i=0;i<w.length;i++)b=w[i],d[b[0]]=s[b[1]];return s}),e.exports=p},"99af":function(e,t,n){"use strict";var a=n("23e7"),c=n("da84"),r=n("d039"),o=n("e8b5"),s=n("861d"),i=n("7b0b"),l=n("07fa"),u=n("8418"),d=n("65f0"),b=n("1dde"),f=n("b622"),g=n("2d00"),p=f("isConcatSpreadable"),m=9007199254740991,j="Maximum allowed index exceeded",O=c.TypeError,h=g>=51||!r((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=b("concat"),x=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},y=!h||!v;a({target:"Array",proto:!0,forced:y},{concat:function(e){var t,n,a,c,r,o=i(this),s=d(o,0),b=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?o:arguments[t],x(r)){if(c=l(r),b+c>m)throw O(j);for(n=0;n<c;n++,b++)n in r&&u(s,b,r[n])}else{if(b>=m)throw O(j);u(s,b++,r)}return s.length=b,s}})},"9f7f":function(e,t,n){var a=n("d039"),c=n("da84"),r=c.RegExp,o=a((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=o||a((function(){return!r("a","y").sticky})),i=o||a((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:i,MISSED_STICKY:s,UNSUPPORTED_Y:o}},ac1f:function(e,t,n){"use strict";var a=n("23e7"),c=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,n){var a=n("83ab"),c=n("5e77").EXISTS,r=n("e330"),o=n("9bf2").f,s=Function.prototype,i=r(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(l.exec),d="name";a&&!c&&o(s,d,{configurable:!0,get:function(){try{return u(l,i(this))[1]}catch(e){return""}}})},b64b:function(e,t,n){var a=n("23e7"),c=n("7b0b"),r=n("df75"),o=n("d039"),s=o((function(){r(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(e){return r(c(e))}})},cc55:function(e,t,n){"use strict";n.r(t);n("99af"),n("b0c0"),n("b64b");var a=n("7a23"),c={class:"container"},r=Object(a["g"])("h2",null,"購物車",-1),o={class:"text-end"},s=["disabled"],i={key:0,class:"spinner-border spinner-border-sm"},l={key:1},u={class:"table align-middle"},d=Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[Object(a["g"])("th"),Object(a["g"])("th",null,"品名"),Object(a["g"])("th",{style:{width:"150px"}},"數量/單位"),Object(a["g"])("th",null,"單價")])],-1),b=["onClick","disabled"],f={class:"input-group input-group-sm"},g={class:"input-group mb-3"},p=["onUpdate:modelValue","onChange","disabled"],m=Object(a["g"])("option",{disabled:""},"Please select one",-1),j=["value"],O={class:"input-group-text",id:"basic-addon2"},h={class:"text-end"},v=Object(a["g"])("small",{class:"text-success"},"折扣價：",-1),x=Object(a["g"])("td",{colspan:"3",class:"text-end"},"總計",-1),y={class:"text-end"},I=Object(a["g"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),C={class:"text-end text-success"},E={class:"my-5 row justify-content-center"},k={class:"mb-3"},w=Object(a["g"])("label",{for:"email",class:"form-label"},"Email",-1),R={class:"mb-3"},V=Object(a["g"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),S={class:"mb-3"},L=Object(a["g"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),A={class:"mb-3"},U=Object(a["g"])("label",{for:"address",class:"form-label"},"收件人地址",-1),$={class:"mb-3"},_=Object(a["g"])("label",{for:"message",class:"form-label"},"留言",-1),q={class:"text-end"},F=["disabled"];function T(e,t,n,T,P,M){var B=Object(a["F"])("Field"),K=Object(a["F"])("error-message"),N=Object(a["F"])("Form");return Object(a["x"])(),Object(a["f"])("div",c,[r,Object(a["g"])("div",o,[Object(a["g"])("button",{class:"btn btn-outline-danger",type:"button",onClick:t[0]||(t[0]=function(){return M.deleteCarts&&M.deleteCarts.apply(M,arguments)}),disabled:0===P.cart.carts.length,style:{width:"120px"}},[!0===P.isLoadingItem?(Object(a["x"])(),Object(a["f"])("span",i)):(Object(a["x"])(),Object(a["f"])("span",l,"清空購物車"))],8,s)]),Object(a["g"])("table",u,[d,Object(a["g"])("tbody",null,[P.cart.carts?(Object(a["x"])(!0),Object(a["f"])(a["a"],{key:0},Object(a["E"])(P.cart.carts,(function(e){return Object(a["x"])(),Object(a["f"])("tr",{key:e.id},[Object(a["g"])("td",null,[Object(a["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return M.deleteCartItem(e.id)},disabled:P.isLoadingItem===e.id}," x ",8,b)]),Object(a["g"])("td",null,Object(a["I"])(e.product.title),1),Object(a["g"])("td",null,[Object(a["g"])("div",f,[Object(a["g"])("div",g,[Object(a["R"])(Object(a["g"])("select",{class:"form-select","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return M.updateCartItem(e)},disabled:P.isLoadingItem===e.id},[m,(Object(a["x"])(),Object(a["f"])(a["a"],null,Object(a["E"])(20,(function(t){return Object(a["g"])("option",{value:t,key:"".concat(t,"-").concat(e.id)},Object(a["I"])(t),9,j)})),64))],40,p),[[a["L"],e.qty]]),Object(a["g"])("span",O,Object(a["I"])(e.product.unit),1)])])]),Object(a["g"])("td",h,[Object(a["i"])(Object(a["I"])(e.product.origin_price)+" ",1),v,Object(a["i"])(" "+Object(a["I"])(e.product.price),1)])])})),128)):Object(a["e"])("",!0)]),Object(a["g"])("tfoot",null,[Object(a["g"])("tr",null,[x,Object(a["g"])("td",y,Object(a["I"])(P.cart.total),1)]),Object(a["g"])("tr",null,[I,Object(a["g"])("td",C,Object(a["I"])(P.cart.final_total),1)])])]),Object(a["g"])("div",E,[Object(a["j"])(N,{class:"col-md-6",onSubmit:M.createOrder,ref:"form"},{default:Object(a["Q"])((function(e){var n=e.errors;return[Object(a["g"])("div",k,[w,Object(a["j"])(B,{id:"email",name:"email",type:"email",class:Object(a["r"])(["form-control",{"is-invalid":n["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:P.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return P.form.user.email=e})},null,8,["class","modelValue"]),Object(a["j"])(K,{name:"email",class:"invalid-feedback"})]),Object(a["g"])("div",R,[V,Object(a["j"])(B,{id:"name",name:"姓名",type:"text",class:Object(a["r"])(["form-control",{"is-invalid":n["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:P.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return P.form.user.name=e})},null,8,["class","modelValue"]),Object(a["j"])(K,{name:"姓名",class:"invalid-feedback"})]),Object(a["g"])("div",S,[L,Object(a["j"])(B,{id:"tel",name:"電話",type:"tel",class:Object(a["r"])(["form-control",{"is-invalid":n["電話"]}]),placeholder:"請輸入電話",rules:M.isPhone,modelValue:P.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return P.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(a["j"])(K,{name:"電話",class:"invalid-feedback"})]),Object(a["g"])("div",A,[U,Object(a["j"])(B,{id:"address",name:"地址",type:"text",class:Object(a["r"])(["form-control",{"is-invalid":n["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:P.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return P.form.user.address=e})},null,8,["class","modelValue"]),Object(a["j"])(K,{name:"地址",class:"invalid-feedback"})]),Object(a["g"])("div",$,[_,Object(a["R"])(Object(a["g"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"3","onUpdate:modelValue":t[5]||(t[5]=function(e){return P.form.message=e})},null,512),[[a["M"],P.form.message]])]),Object(a["g"])("div",q,[Object(a["g"])("button",{type:"submit",class:"btn btn-danger",disabled:0===P.cart.carts.length||Object.keys(n).length>0}," 送出訂單 ",8,F)])]})),_:1},8,["onSubmit"])])])}n("ac1f"),n("00b4");var P=n("6be2"),M={data:function(){return{isLoadingItem:"",products:[],cart:{carts:[]},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getCart:function(){var e=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("filter117","/cart")).then((function(t){e.cart=t.data.data})).catch((function(e){console.log(e.response.data)}))},updateCartItem:function(e){var t=this;this.isLoadingItem=e.id;var n={data:{product_id:e.product_id,qty:e.qty}};this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("filter117","/cart/").concat(e.id),n).then((function(e){alert(e.data.message),t.isLoadingItem="",t.getCart(),P["a"].emit("get-cart")})).catch((function(e){console.log(e.response.data)}))},deleteCarts:function(){var e=this;this.isLoadingItem=!0,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("filter117","/carts")).then((function(t){alert(t.data.message),e.getCart(),e.isLoadingItem="",P["a"].emit("get-cart")})).catch((function(e){console.log(e.response.data)}))},deleteCartItem:function(e){var t=this;this.isLoadingItem=e,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("filter117","/cart/").concat(e)).then((function(e){alert(e.data.message),t.getCart(),t.isLoadingItem="",P["a"].emit("get-cart")})).catch((function(e){console.log(e.response.data)}))},createOrder:function(){var e=this,t={data:this.form};this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("filter117","/order"),t).then((function(t){alert(t.data.message),e.getCart(),P["a"].emit("get-cart"),e.$refs.form.resetForm()})).catch((function(e){console.log(e.response.data)}))},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"}},mounted:function(){this.getCart()}},B=n("6b0d"),K=n.n(B);const N=K()(M,[["render",T]]);t["default"]=N},e8b5:function(e,t,n){var a=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},fce3:function(e,t,n){var a=n("d039"),c=n("da84"),r=c.RegExp;e.exports=a((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-039b28d9.9280e101.js.map